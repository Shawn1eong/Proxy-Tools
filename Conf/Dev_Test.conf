[General]
loglevel = notify
bypass-system = true
internet-test-url = http://www.gstatic.com/generate_204
proxy-test-url = http://www.gstatic.com/generate_204
test-timeout = 5
ipv6 = false
allow-wifi-access = true
wifi-assist = true
http-api = administrator@0.0.0.0:6166
external-controller-access = administrator@0.0.0.0:6170
compatibility-mode = false
skip-proxy = 10.0.0.0/8, 127.0.0.0/8, 169.254.0.0/16, 192.0.2.0/24, 192.168.0.0/16, 198.51.100.0/24, 224.0.0.0/4, *.local, localhostlocal

# TLS Provider
tls-provider = openssl
network-framework = false

# DNS Server
dns-server = 119.29.29.29, 223.5.5.5, 1.2.4.8, system
doh-server = https://dns.nextdns.io/d49521/administrator%E2%80%98iphone
doh-format = wireformat

# Others
show-error-page-for-reject = true
use-local-host-item-for-proxy = true
# > NextDNS (https://nextdns.io/)
always-real-ip = link-ip.nextdns.io,
hijack-dns = 8.8.8.8:53, 8.8.4.4:53
# > TCP Force HTTP Hosts
force-http-engine-hosts = 122.14.246.33, 175.102.178.52, mobile-api2011.elong.com, *.ott.cibntv.net,123.59.31.1,119.18.193.135
tun-excluded-routes = 10.0.0.0/8, 127.0.0.0/8, 169.254.0.0/16, 192.0.2.0/24, 192.168.0.0/16, 198.51.100.0/24, 224.0.0.0/4
exclude-simple-hostnames = true
enhanced-mode-by-rule = false

[Replica]
# æŠ“å–æµé‡ => è¿‡æ»¤å™¨
# > éšè— Apple è¯·æ±‚
hide-apple-request = 1
# > éšè— Crashlytics è¯·æ±‚
hide-crashlytics-request = 1
# > éšè— UDP ä¼šè¯
hide-udp = 0
# > å…³é”®è¯è¿‡æ»¤å™¨
keyword-filter-type = none
keyword-filter = (null)
# > è¯¥æ®µå®šä¹‰å¯ç”¨çš„ä»£ç†ç­–ç•¥

[Proxy]
ðŸŸ¢ Direct-Connection = direct
ðŸ”´ Reject-block = reject
ðŸŸ¡ Reject-gif = reject-tinygif

[Proxy Group]
PÊ€á´xÊ = select, Há´É´É¢á´‹á´É´É¢, Rá´‡É´á´¢Êœá´‡á´„ÊŸá´á´œá´…, Lá´‡Éªsá´œ
IÉ´sÉªá´…á´‡ = select, ðŸŸ¢ Direct-Connection, PÊ€á´xÊ
Oá´œá´›sÉªá´…á´‡ = select, Há´É´É¢á´‹á´É´É¢, Rá´‡É´á´¢Êœá´‡á´„ÊŸá´á´œá´…, Lá´‡Éªsá´œ
FÉªÉ´á´€ÊŸ = select, PÊ€á´xÊ, ðŸŸ¢ Direct-Connection
Ná´‡á´›á´‡á´€sá´‡Má´œsÉªá´„ = select, url=http://www.gstatic.com/generate_204, policy-path=Yunmusic.list, update-interval=0
Sá´˜á´‡á´‡á´…á´›á´‡sá´› = select, PÊ€á´xÊ, ðŸŸ¢ Direct-Connection
Aá´…Ê™ÊŸá´á´„á´‹ = select, policy-path=https://raw.githubusercontent.com/shaGuar-svg/Ru1e/master/Conf/Ads.list, update-interval=0
Há´É´É¢á´‹á´É´É¢ = url-test, url=http://www.gstatic.com/generate_204, policy-path=https://sub.store/download/Buding, update-interval=0, timeout=0, interval=600, tolerance=50
Rá´‡É´á´¢Êœá´‡á´„ÊŸá´á´œá´… = url-test, url=http://www.gstatic.com/generate_204, policy-path=https://sub.store/download/Renzhecloud, update-interval=0
Lá´‡Éªsá´œ = select, policy-path=https://sub.store/download/leisu, update-interval=0

[Rule]
# Rulesets
# CUSTOM RULE
# > ç½‘æ˜“äº‘éŸ³ä¹
DOMAIN,music.desperadoj.com,Ná´‡á´›á´‡á´€sá´‡Má´œsÉªá´„
DOMAIN,music.zmx.one,Ná´‡á´›á´‡á´€sá´‡Má´œsÉªá´„

# Client
# > Proxy
PROCESS-NAME,v2ray,ðŸŸ¢ Direct-Connection
PROCESS-NAME,ss-local,ðŸŸ¢ Direct-Connection
PROCESS-NAME,UUBooster,ðŸŸ¢ Direct-Connection

# > Download
PROCESS-NAME,aria2c,ðŸŸ¢ Direct-Connection
PROCESS-NAME,fdm,ðŸŸ¢ Direct-Connection
PROCESS-NAME,Folx,ðŸŸ¢ Direct-Connection
PROCESS-NAME,NetTransport,ðŸŸ¢ Direct-Connection
PROCESS-NAME,Thunder,ðŸŸ¢ Direct-Connection
PROCESS-NAME,Transmission,ðŸŸ¢ Direct-Connection
PROCESS-NAME,uTorrent,ðŸŸ¢ Direct-Connection
PROCESS-NAME,WebTorrent,ðŸŸ¢ Direct-Connection
PROCESS-NAME,WebTorrent Helper,ðŸŸ¢ Direct-Connection

# > NobyDaåŽ»å¹¿å‘Š
DOMAIN-SET,https://raw.githubusercontent.com/NobyDa/ND-AD/master/Surge/AD_Block.txt,Aá´…Ê™ÊŸá´á´„á´‹
RULE-SET,https://raw.githubusercontent.com/NobyDa/ND-AD/master/Surge/AD_Block_Add.txt,Aá´…Ê™ÊŸá´á´„á´‹

# > Speedtest
RULE-SET,https://raw.githubusercontent.com/lhie1/Rules/master/Surge/Surge%203/Provider/Speedtest.list,Sá´˜á´‡á´‡á´…á´›á´‡sá´›

# > Netease Music
RULE-SET,https://raw.githubusercontent.com/Liquor030/Sub_Ruleset/master/Ruleset/Netease_Music_Direct.list,ðŸŸ¢ Direct-Connection
RULE-SET,https://raw.githubusercontent.com/Liquor030/Sub_Ruleset/master/Ruleset/Netease_Music.list,Ná´‡á´›á´‡á´€sá´‡Má´œsÉªá´„

# > äºšæ´²åª’ä½“
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/StreamingMedia/StreamingSE.list,IÉ´sÉªá´…á´‡

# > å›½é™…åª’ä½“
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/StreamingMedia/Streaming.list,Oá´œá´›sÉªá´…á´‡

# > Global å…¨çƒåŠ é€Ÿ
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Global.list,PÊ€á´xÊ

# > China å›½å†…åŠ é€Ÿ
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/China.list,ðŸŸ¢ Direct-Connection

# SYSTEM
RULE-SET,SYSTEM,ðŸŸ¢ Direct-Connection

# Surge çš„è‡ªåŠ¨ REJECT ä¿æŠ¤ä¸¢åŒ…ï¼Œé˜²æ­¢åº”ç”¨å¾ªçŽ¯è¯·æ±‚
IP-CIDR,0.0.0.0/32,Aá´…Ê™ÊŸá´á´„á´‹,no-resolve

# Local Area Network å±€åŸŸç½‘
IP-CIDR,192.168.0.0/16,ðŸŸ¢ Direct-Connection
IP-CIDR,10.0.0.0/8,ðŸŸ¢ Direct-Connection
IP-CIDR,172.16.0.0/12,ðŸŸ¢ Direct-Connection
IP-CIDR,127.0.0.0/8,ðŸŸ¢ Direct-Connection
IP-CIDR,100.64.0.0/10,ðŸŸ¢ Direct-Connection
IP-CIDR,224.0.0.0/4,ðŸŸ¢ Direct-Connection

# China GEOIP Fix
GEOIP,CN,ðŸŸ¢ Direct-Connection

# > FINAL
FINAL,FÉªÉ´á´€ÊŸ,dns-failed

[Host]
# > ç‰¹å®šDNSæœåŠ¡å™¨
# è¯¥æ®µå®šä¹‰é’ˆå¯¹ HTTP è¯·æ±‚çš„ URL é‡å®šå‘è§„åˆ™

[URL Rewrite]
# CUSTOM URL

[Header Rewrite]
# CUSTOM HEADER

[MITM]
skip-server-cert-verify = true
hostname = -CustomMitM
ca-passphrase = F2B48101
ca-p12 = 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

[Script]
# > åŠŸèƒ½æ€§è„šæœ¬
# > Network-changed
// Network-changed = type=event,event-name=network-changed,debug=1,script-path=https://raw.githubusercontent.com/shaGuar-svg/Ru1e/master/Conf/Network-changed.js

# > æ ¹æ®ç½‘ç»œé€‰æ‹©ä½¿ç”¨Doh
Dns-changed = type=rule,script-path=https://raw.githubusercontent.com/shaGuar-svg/Ru1e/master/Conf/Dns-changed.js,script-update-interval=0

# > Netdnsä½¿ç”¨è„šæœ¬é€‰æ‹©dns
nextdns_linkedip.js = type=event,event-name=network-changed,script-path=https://raw.githubusercontent.com/shaGuar-svg/Ru1e/master/Conf/nextdns_linkedip.js,script-update-interval=0

